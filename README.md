# Систем за Управување со Приватни Јахти

## Опис на системот:
Системот овозможува корисниците да прегледуваат информации за приватни јахти и да резервираат пловидби. Корисниците можат да оставаат рецензии за секоја пловидба. Јахтата може да има повеќе резервации, а секоја резервација е поврзана со единствена пловидба. При бришење на јахта, сите поврзани резервации и рецензии треба автоматски да се избришат. Резервациите и рецензиите не можат да се избришат поединечно. Системот поддржува CRUD операции за јахти, управување со резервации, креирање и приказ на рецензии, како и функционалности за пребарување и филтрирање.

## Табели во базата:
- **yachts**:
  - id, name, type (super yacht, classic), capacity, hourly_rate, created_at, updated_at.

- **reservations**:
  - id, yacht_id, user_name, reservation_date, duration_hours, status (pending, confirmed, cancelled), created_at, updated_at.

- **reviews**:
  - id, reservation_id, reviewer_name, text, rating, status (pending, approved, declined), created_at, updated_at.

## Функционалности:

### За јахти:

#### Операции за управување:

- **Листање**: Приказ на листа со сите јахти, со можност за пребарување според name и филтрирање според типот на јахтата (type), кој може да биде „super yacht“ или „classic“. При приказ на сите јахти, прикажете ги само следниве податоци name, type, capacity, hourly_rate.
- **Додавање**: Внесување на нова јахта. Сите полиња (name, type, capacity, hourly_rate) се задолжителни и подложни на валидација.
- **Ажурирање**: Уредување на информациите за постоечка јахта. Сите полиња се задолжителни и мора да поминат валидација.
- **Бришење**: Отстранување на јахта од системот, со автоматско бришење на сите поврзани резервации и рецензии. Резервации и рецензии не можат да се избришат поединечно.

#### Валидација:
- Полето type мора да биде една од вредностите: „super yacht“ или „classic“.
- capacity и hourly_rate мора да бидат позитивни броеви.

### За резервации:

#### Операции:
- **Креирање**: Корисникот може да резервира пловидба за јахта со валидни податоци и достапен капацитет. При креирање на резервација, статусот автоматски се поставува на „pending“.
- **Потврда**: Акции за промена на статусот на резервација во „confirmed“ или „cancelled“.
- **Приказ**: Листање на резервации за одредена јахта со детали за времето на резервацијата. Листата на резервации може да се филтрира според статусот на резервацијата (status), кој може да биде „pending“, „confirmed“ или „cancelled“. При приказ на сите резервации прикажете ги следниве полиња за нив user_name, reservation_date, duration_hours, yacht (релацијата).

#### Валидација:
- Сите полиња (yacht_id, user_name, reservation_date, duration_hours) се задолжителни.
- reservation_date мора да биде датум во иднината.
- duration_hours мора да биде позитивен цел број.
- yacht_id мора да укажува на постоечка јахта.

#### Додатни правила:
- Резервациите не можат да се избришат една по една. Тие автоматски се бришат само кога поврзаната јахта се брише.

### За рецензии:

#### Операции:
- **Креирање**: Корисниците можат да остават рецензија за потврдена резервација.
- **Приказ**: Преглед на сите рецензии за одредена јахта со филтрирање по статусот на рецензијата (status), кој може да биде „pending“, „approved“ или „declined“. При приказ на сите рецензии прикажете ги следниве информации reviewer_name, text, rating, reservation (релацијата), yacht (релацијата).

#### Валидација:
- Полето reviewer_name е задолжително.
- Полето text е опционално.
- Полето rating е задолжително и мора да биде вредност од 1 до 5.
- Рецензија мора да биде поврзана со постоечка и потврдена (статусот да е confirmed) резервација.

#### Додатни правила:
- Рецензиите не можат да се избришат една по една. Тие автоматски се бришат само кога поврзаната јахта се брише.
- При креирање на рецензија, статусот автоматски се поставува на „pending“.

## Додатни функционалности:

### Observer:
- Автоматско бришење на резервации и рецензии при бришење на јахта.
- Поставување статус „pending“ за новосоздадени рецензии.
- Поставување статус „pending“ за новосоздадени резервации.

### Factory:
- Автоматско генерирање на примероци за јахти, резервации и рецензии за тестирање.
